<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Bicycle Management System</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body>
  <div class="tabs">
    <button class="tab active" data-target="issue">Issue Bicycle</button>
    <button class="tab" data-target="faulty">Faulty Bicycle</button>
    <button class="tab" data-target="arrival">Arrival Preparation</button>
  </div>

  <div class="tab-content" id="issue">
    <h2>Issue Bicycle</h2>
    <label for="guestName">Guest Name:</label>
    <input type="text" id="guestName" name="guestName" required>
    <br>
    <label for="bicycleId">Bicycle ID:</label>
    <input type="text" id="bicycleId" name="bicycleId" required>
    <br>
    <button onclick="issueBicycle()">Issue</button>
  </div>

  <div class="tab-content" id="faulty" style="display: none;">
    <h2>Faulty Bicycle</h2>
    <label for="faultyBicycleId">Bicycle ID:</label>
    <input type="text" id="faultyBicycleId" name="faultyBicycleId" required>
    <br>
    <label for="faultyDescription">Description:</label>
    <textarea id="faultyDescription" name="faultyDescription"></textarea>
    <br>
    <button onclick="reportFaultyBicycle()">Report Faulty</button>
  </div>

  <div class="tab-content" id="arrival" style="display: none;">
    <h2>Arrival Preparation</h2>
    <label for="arrivalGuestName">Guest Name:</label>
    <input type="text" id="arrivalGuestName" name="arrivalGuestName" required>
    <br>
    <button onclick="prepareForArrival()">Prepare for Arrival</button>
  </div>

  <div id="departure-list">
    <h2>Departure List</h2>
    <ul>
    </ul>
  </div>

  <div id="bicycle-inventory">
    <h2>Bicycle Inventory</h2>
    <ul>
    </ul>
  </div>

  <script src="script.js"></script>
</body>

</html>
const departureList = document.querySelector("#departure-list ul");
const bicycleInventory = document.querySelector("#bicycle-inventory ul");
const tabs = document.querySelectorAll(".tab");
const tabContent = document.querySelectorAll(".tab-content");

// Data Storage
let guests = [];
let bicycles = [
  { id: "B001", available: true },
  { id: "B002", available: true },
  // Add more bicycles
];

// Function to display departure list
function displayDepartureList() {
  departureList.innerHTML = ""; // Clear the list
  guests.forEach(guest => {
    if (guest.departure) {
      const li = document.createElement("li");
      li.textContent = `${guest.name} (Bicycle: ${guest.bicycleId})`;
      // Add a button for return
      if (!guest.returned) {
        const returnButton = document.createElement("button");
        returnButton.textContent = "Mark as Returned";
        returnButton.addEventListener("click", () => {
          guest.returned = true;
          updateBicycleAvailability(guest.bicycleId, true);
          displayDepartureList();
          displayBicycleInventory();
        });
        li.appendChild(returnButton);
      }
      departureList.appendChild(li);
    }
  });
}

// Function to display bicycle inventory
function displayBicycleInventory() {
  bicycleInventory.innerHTML = "";
  bicycles.forEach(bicycle => {
    const li = document.createElement("li");
    li.textContent = `Bicycle ID: ${bicycle.id} - ${bicycle.available ? "Available" : "Unavailable"}`;
    bicycleInventory.appendChild(li);
  });
}

// Function to issue a bicycle
function issueBicycle() {
  const guestName = document.getElementById("guestName").value;
  const bicycleId = document.getElementById("bicycleId").value;

  // Check if bicycle is available
  const bicycle = bicycles.find(b => b.id === bicycleId && b.available);
  if (bicycle) {
    guests.push({
      name: guestName,
      departure: true,
      returned: false,
      bicycleId: bicycleId
    });
    updateBicycleAvailability(bicycleId, false);
    displayDepartureList();
    displayBicycleInventory();
    alert("Bicycle issued successfully!");
  } else {
    alert("Bicycle is not available.");
  }
}

// Function to report a faulty bicycle
function reportFaultyBicycle() {
  const faultyBicycleId = document.getElementById("faultyBicycleId").value;
  const faultyDescription = document.getElementById("faultyDescription").value;

  // Find the bicycle and update its availability
  const bicycle = bicycles.find(b => b.id === faultyBicycleId);
  if (bicycle) {
    bicycle.available = false;
    alert("Faulty bicycle reported. Please contact maintenance.");
    displayBicycleInventory();
  } else {
    alert("Invalid bicycle ID.");
  }
}

// Function to prepare for arrival
function prepareForArrival() {
  const arrivalGuestName = document.getElementById("arrivalGuestName").value;
  alert(`Preparing for arrival of ${arrivalGuestName}.`);
}

// Function to update bicycle availability
function updateBicycleAvailability(bicycleId, available) {
  const bicycle = bicycles.find(b => b.id === bicycleId);
  if (bicycle) {
    bicycle.available = available;
  }
}

// Handle tab switching
function handleTabClick(event) {
  const target = event.target.dataset.target;
  tabs.forEach(tab => tab.classList.remove("active"));
  event.target.classList.add("active");
  tabContent.forEach(content => {
    if (content.id === target) {
      content.style.display = "block";
    } else {
      content.style.display = "none";
    }
  });
}

// Initial Display
displayDepartureList();
displayBicycleInventory();

// Add event listeners for tabs
tabs.forEach(tab => tab.addEventListener("click", handleTabClick));
/* Basic Styling (add your own styles) */
body {
  font-family: sans-serif;
}

.tabs {
  display: flex;
}

.tab {
  padding: 10px;
  margin-right: 5px;
  border: 1px solid #ccc;
  cursor: pointer;
}

.tab.active {
  background-color: #eee;
}

#departure-list ul,
#bicycle-inventory ul {
  list-style: none;
  padding: 0;
}

.tab-content {
  margin-top: 20px;
}
