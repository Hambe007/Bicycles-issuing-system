// Add this testing function after your Firebase initialization
function testFirebaseConnection() {
    console.log('Testing Firebase connection...');
    
    try {
        // Test Firestore
        db.collection('test').add({
            timestamp: firebase.firestore.FieldValue.serverTimestamp()
        })
        .then(docRef => {
            console.log('✓ Firestore write test successful');
            db.collection('test').doc(docRef.id).delete();
        })
        .catch(error => {
            console.error('✗ Firestore write test failed:', error);
        });

        // Test Storage
        const storageRef = storage.ref();
        console.log('✓ Storage reference created successfully');

        showNotification('Firebase connection test completed - check console');
    } catch (error) {
        console.error('Firebase test failed:', error);
        showNotification('Firebase connection test failed', 'error');
    }
}

// Add a test button to your header
document.querySelector('.header').innerHTML += `
    <button onclick="testFirebaseConnection()" 
            style="position: absolute; top: 10px; right: 10px; font-size: 12px;"
            class="no-print">
        Test Connection
    </button>
`;
